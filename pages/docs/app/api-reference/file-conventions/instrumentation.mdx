---
title: instrumentation.js
description: API reference for the instrumentation.js file.
related:
  title: Learn more about Instrumentation
  links:
    - app/building-your-application/optimizing/instrumentation
---

# instrumentation.js

`instrumentation.js|ts` 파일은 애플리케이션에 모니터링 및 로깅 도구를 통합하는 데 사용됩니다. 이를 통해 애플리케이션의 성능과 동작을 추적하고, 프로덕션에서 문제를 디버그할 수 있습니다.

이를 사용하려면 애플리케이션의 **루트**에 파일을 배치하거나, `src` 폴더를 사용하는 경우 [`src` 폴더](/docs/app/building-your-application/configuring/src-directory) 안에 배치하십시오.

## Config Option

Instrumentation은 현재 실험적 기능으로, `instrumentation` 파일을 사용하려면 `next.config.js`에서 [`experimental.instrumentationHook = true;`](/docs/app/api-reference/next-config-js/instrumentationHook)을 정의하여 명시적으로 옵트인해야 합니다:

```js filename="next.config.js"
module.exports = {
  experimental: {
    instrumentationHook: true,
  },
}
```

## Exports

### `register` (required)

이 파일은 새로운 Next.js 서버 인스턴스가 시작될 때 **한 번** 호출되는 `register` 함수를 내보냅니다. `register`는 비동기 함수일 수 있습니다.

```ts filename="instrumentation.ts" switcher
import { registerOTel } from '@vercel/otel'

export function register() {
  registerOTel('next-app')
}
```

```js filename="instrumentation.js" switcher
import { registerOTel } from '@vercel/otel'

export function register() {
  registerOTel('next-app')
}
```

## Version History

| Version   | Changes                                                 |
| --------- | ------------------------------------------------------- |
| `v14.0.4` | Turbopack support for `instrumentation`                 |
| `v13.2.0` | `instrumentation` introduced as an experimental feature |
